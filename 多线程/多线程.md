## wait 与 sleep 区别

- wait() 是 Object 中定义的 native 方法。

  ```java
  public final native void wait(long timeout) throws InterruptedException;
  ```

  每一个类的实例都可以调用这个方法。wait() 只能在 synchronized block 中调用。它会释放 synchronized 时加在 object 上的锁。

- sleep() 是定义 Thread 中的 native 静态类方法：

  ```java
  public static native void sleep(long millis) throws InterruptedException;
  ```

  Thread.sleep() 可以在任何情况下调用。Thread.sleep() 将会暂停当前线程，并且不会释放任何锁资源。

#### 唤醒 wait 和 sleep

sleep() 方法自带 sleep 时间，时间过后，Thread 会自动被唤醒。 或者可以通过调用 interrupt() 方法来中断。

wait 的唤醒会比较复杂，我们需要调用 notify() 和 notifyAll() 方法来唤醒等待在特定 wait object 上的线程。

​		notify() 会根据线程调度的机制选择一个线程来唤醒;

​		notifyAll() 会唤醒所有等待的线程，由这些线程重新争夺资源锁。